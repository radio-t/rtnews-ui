(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(17),n(9),n(10),n(26),n(56),n(5),n(15),n(16),n(19),n(49),n(54),n(55),n(104),n(77),n(78),n(23),n(103),n(158);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(21),a=n(20),i=n(37),s=n(39);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)})}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}(this,d(t).call(this,e))).state={manual:!1,autolink:"",manualLink:"",manualTitle:"",manualText:"",posting:!1},n.onDragover=n.onDragover.bind(h(h(n))),n.onDrop=n.onDrop.bind(h(h(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.default.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"bookmarklet",value:function(){var e=document.cookie.split(";").map(function(e){return e.trim()}).reduce(function(e,t){var n=f(t.split("="),2),r=n[0],o=n[1];return e[r]=o,e},{});if(!e.hasOwnProperty("auth"))return"";var t=function(){var e=window,t=document,n=t.createElement("div"),r=n.style;function o(e){r.color="#d00",n.textContent=e}function a(){e.setTimeout(function(){r.height="0",e.setTimeout(function(){n.parentNode.removeChild(n)},300)},500)}r.transition="all 200ms",r.position="fixed",r.left="0",r.right="0",r.top="0",r.zIndex=16777271,r.height="0",r.width="100%",r.overflow="hidden",r.background="#fff",r.borderBottom="1px solid #bdbdbd",r.boxShadow="0 0 30px #828282",r.color="#232323",r.fontSize="30px",r.fontWeight="700",r.fontFamily='"PT Serif", Georgia, serif',r.lineHeight="67px",r.textAlign="center",n.textContent="–°–æ—Ö—Ä–∞–Ω—è—é..",t.body.appendChild(n),e.setTimeout(function(){r.height="70px"},100),e.setTimeout(function(){var e=new Headers;e.append("Authorization","Basic #AUTH#"),e.append("Content-Type","application/json"),fetch("#LOCATION#/news",{method:"POST",mode:"cors",credentials:"omit",headers:e,body:JSON.stringify({link:location.href})}).then(function(e){if(200!==e.status)return o("–ù–µ —Å–º–æ–≥ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å"),void a();r.color="#090",n.textContent="–°–æ—Ö—Ä–∞–Ω–∏–ª",a()}).catch(function(){o("–ù–µ —Å–º–æ–≥ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å"),a()})},500)}.toString().replace(/#LOCATION#/g,s.apiRoot).replace(/#AUTH#/g,e.auth).replace(/\s{2,}/g," ");return"javascript:("+encodeURIComponent(t)+")();"}},{key:"render",value:function(){var e=this;return this.props.isAdmin?this.state.manual?r.default.createElement("form",{className:"add-form",onSubmit:function(t){return e.onSubmit(t)},style:this.props.style},r.default.createElement("p",{className:"add-form__manual-switch"},r.default.createElement("span",{role:"button",className:"pseudo",onClick:function(){return e.onSwitch()}},"–ü–æ —Å—Å—ã–ª–∫–µ")),r.default.createElement("input",{type:"text",value:this.state.manualLink,onChange:function(t){return e.setState({manualLink:t.target.value})},placeholder:"–°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å",className:"add-form__article-manual-link",ref:function(t){return e.manualref=t}}),r.default.createElement("input",{type:"text",value:this.state.manualTitle,onChange:function(t){return e.setState({manualTitle:t.target.value})},placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏",className:"add-form__article-title"}),r.default.createElement("textarea",{value:this.state.manualText,onChange:function(t){return e.setState({manualText:t.target.value})},placeholder:"–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏",className:"add-form__article-description"}),r.default.createElement("input",{className:"add-form__submit add-form__submit-manual",type:"submit",value:"–î–æ–±–∞–≤–∏—Ç—å",disabled:0===this.state.manualLink.length||0===this.state.manualTitle.length||0===this.state.manualText.length,title:0===this.state.manualLink.length||0===this.state.manualTitle.length||0===this.state.manualText.length?"–ü–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã":""}),this.state.posting&&r.default.createElement("p",{className:"add-form__posting"},"–¥–æ–±–∞–≤–ª—è—é...")):r.default.createElement("form",{className:"add-form",onSubmit:function(t){return e.onSubmit(t)},style:this.props.style},r.default.createElement("p",{className:"add-form__manual-switch"},r.default.createElement("span",{role:"button",className:"pseudo",onClick:function(){return e.onSwitch()}},"–í—Ä—É—á–Ω—É—é")),r.default.createElement("div",{className:"add-form__auto"},r.default.createElement("input",{type:"text",value:this.state.autolink,onChange:function(t){return e.setState({autolink:t.target.value})},placeholder:"–°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å",className:"add-form__article-url",ref:function(t){return e.autoref=t}}),r.default.createElement("input",{className:"add-form__submit add-form__submit-auto",type:"submit",value:"–î–æ–±–∞–≤–∏—Ç—å",disabled:0===this.state.autolink.length,title:0===this.state.autolink.length?'–ü–æ–ª–µ "–°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ':""})),this.state.posting&&r.default.createElement("p",{className:"add-form__posting"},"–¥–æ–±–∞–≤–ª—è—é..."),r.default.createElement("p",{className:"add-form__bookmarklet"},r.default.createElement("span",{className:"add-form__bookmarklet-text"},"–∑–∞–∫–ª–∞–¥–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏:"),r.default.createElement("br",null),r.default.createElement("a",{className:"add-form__bookmarklet-link",href:this.bookmarklet()},"–†–∞–¥–∏–æ-–¢")),r.default.createElement("p",{className:"add-form__drag-message"},"–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –ø–µ—Ä–µ—Ç—è–Ω—É–≤ —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ –æ–∫–Ω–æ")):r.default.createElement(o.Redirect,{to:"/login/"})}},{key:"onSwitch",value:function(){var e=this;this.setState({manual:!this.state.manual}),setTimeout(function(){(e.autoref||e.manualref).focus()},500)}},{key:"onDragover",value:function(e){-1!==e.dataTransfer.types.indexOf("text/plain")&&(e.dataTransfer.dropEffect="copy",e.preventDefault())}},{key:"onDrop",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==t.dataTransfer.types.indexOf("text/plain")){e.next=2;break}return e.abrupt("return");case 2:if(n=t.dataTransfer.getData("text/plain"),/^https?:\/\/.*/.test(n)){e.next=6;break}return e.abrupt("return");case 6:if((o=new URL(n)).origin!==window.location.origin){e.next=9;break}return e.abrupt("return");case 9:return t.preventDefault(),this.setState({posting:!0}),e.prev=11,e.next=14,(0,a.addArticle)(o.href);case 14:(0,i.addNotification)({data:r.default.createElement("b",null,"–ù–æ–≤–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞"),time:7e3}),this.props.onAdd&&this.props.onAdd(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(11),console.error(e.t0),(0,i.addNotification)({data:r.default.createElement("b",null,"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞"),level:"error",time:5e3});case 22:return e.prev=22,this.setState({posting:!1}),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[11,18,22,25]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=this;document.body.addEventListener("dragover",this.onDragover,!1),document.body.addEventListener("drop",this.onDrop,!1),setTimeout(function(){(e.autoref||e.manualref).focus()},500)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("dragover",this.onDragover,!1),document.body.removeEventListener("drop",this.onDrop,!1)}},{key:"onSubmit",value:function(){var e=l(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({posting:!0}),e.prev=2,this.state.manual){e.next=9;break}return e.next=6,(0,a.addArticle)(this.state.autolink);case 6:this.state.autolink="",e.next=14;break;case 9:return e.next=11,(0,a.addArticle)(this.state.manualLink,this.state.manualTitle,this.state.manualText);case 11:this.state.manualLink="",this.state.manualTitle="",this.state.manualText="";case 14:(0,i.addNotification)({data:r.default.createElement("b",null,"–ù–æ–≤–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞"),time:7e3}),this.props.onAdd&&this.props.onAdd(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.error(e.t0),(0,i.addNotification)({data:r.default.createElement("b",null,"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞"),level:"error",time:5e3});case 22:return e.prev=22,this.setState({posting:!1}),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,18,22,25]])}));return function(t){return e.apply(this,arguments)}}()}]),t}();t.default=v},108:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><path d="M13.851619 6.117109q0 1.327471-.915497 2.452766t-2.487099 1.777591-3.433113.652291q-.53404 0-1.106225-.061033-1.510571 1.335099-3.509404 1.846252-.373828.106809-.869722.167842-.129696.015257-.232689-.068665t-.13351-.221244v-.007628q-.022888-.030516-.003815-.09155t.015258-.076293.034331-.072476l.045775-.068662.053404-.064849.061033-.068662q.053404-.061032.236503-.263205t.263205-.289908.236503-.301349.247947-.389087.205987-.450121.198357-.579813Q1.561073 9.260314.870636 8.260896T.180199 6.117107q0-.991788.541669-1.89584t1.457166-1.56016 2.181933-1.041376 2.654941-.385273q1.86151 0 3.433113.652292t2.487099 1.777589.915497 2.452769z"></path></svg>'},109:function(e,t,n){"use strict";n(5),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(17),n(19);var r=n(20),o=n(37);function a(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)})}}function s(e,t){return u.apply(this,arguments)}function u(){return(u=i(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.addNotification)({data:t,time:3e4}),e.prev=1,e.next=4,n();case 4:return a=e.sent,e.abrupt("return",a);case 6:return e.prev=6,setTimeout(function(){(0,o.removeNotification)(r)},500),e.finish(6);case 9:case"end":return e.stop()}},e,this,[[1,,6,9]])}))).apply(this,arguments)}var c={"make-current":{title:"–°–¥–µ–ª–∞—Ç—å —Ç–µ–∫—É—â–µ–π",id:"make-current",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,o.setState)({activeId:t.id}),e.next=3,s("–∞–∫—Ç–∏–≤–∏—Ä—É—é",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.activateArticle)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 3:return e.next=5,n();case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},"make-geek":{title:"–ì–∏–∫–æ–≤—Å–∫–æ–µ",id:"make-geek",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("–¥–µ–ª–∞—é —Ç–µ–º—É –≥–∏–∫–æ–≤—Å–∫–æ–π",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.makeArticleGeek)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},"make-ungeek":{title:"–ù–µ –≥–∏–∫–æ–≤—Å–∫–æ–µ",id:"make-ungeek",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("–¥–µ–ª–∞—é —Ç–µ–º—É –Ω–µ–≥–∏–∫–æ–≤—Å–∫–æ–π",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.makeArticleNoGeek)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},"make-first":{title:"–°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤–æ–π",id:"make-first",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("–¥–µ–ª–∞—é —Ç–µ–º—É –ø–µ—Ä–≤–æ–π",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.makeArticleFirst)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},archive:{title:"–í –∞—Ä—Ö–∏–≤",id:"archive",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("—É–±–∏—Ä–∞—é –≤ –∞—Ä—Ö–∏–≤",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.archiveArticle)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},remove:{title:"–£–¥–∞–ª–∏—Ç—å",id:"remove",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("—É–¥–∞–ª—è—é",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.removeArticle)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},restore:{title:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å",id:"restore",fn:function(){var e=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.restoreArticle)(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})));case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}};t.default=c},113:function(e,t,n){"use strict";n(17),n(26),n(19),n(9),n(10),n(36),n(5),n(15),n(16),n(127),n(128);var r=_(n(1));n(131);var o=n(1),a=n(37),i=n(169),s=_(n(141)),u=_(n(156)),c=n(21),l=n(105),f=n(20),p=_(n(106)),d=n(160),m=_(n(164)),h=_(n(165)),v=_(n(166)),y=_(n(167)),g=_(n(168)),b=n(33);function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,s,"next",e)}function s(e){w(a,r,o,i,s,"throw",e)}i(void 0)})}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,N(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r.default.Component),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"render",value:function(){var e=this;return r.default.createElement(c.BrowserRouter,null,r.default.createElement("div",{className:"page"},r.default.createElement(u.default,this.props),r.default.createElement(c.Switch,null,r.default.createElement(c.Route,{path:"/",exact:!0,render:function(t){return document.title="–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –†–∞–¥–∏–æ-–¢",r.default.createElement(d.Listing,e.props)}}),r.default.createElement(c.Route,{path:"/deleted/",exact:!0,render:function(t){return document.title="–£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ç–µ–º—ã | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",r.default.createElement(d.DeletedListing,e.props)}}),r.default.createElement(c.Route,{path:"/archive/",exact:!0,render:function(t){return document.title="–ê—Ä—Ö–∏–≤ | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",r.default.createElement(d.ArchiveListing,S({},t,e.props))}}),r.default.createElement(c.Route,{path:"/add/",exact:!0,render:function(){return document.title="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",r.default.createElement(p.default,e.props)}}),r.default.createElement(c.Route,{path:"/feeds/",exact:!0,render:function(){return document.title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–¥–∞–º–∏ | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",r.default.createElement(m.default,e.props)}}),r.default.createElement(c.Route,{path:"/sort/",render:function(t){return document.title="–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–µ–º | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",r.default.createElement(y.default,e.props)}}),r.default.createElement(c.Route,{path:"/news/:slug",render:function(e){return document.title="".concat(e.match.params.slug," | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢"),r.default.createElement(s.default,{slug:e.match.params.slug})}}),r.default.createElement(c.Route,{path:"/login/",exact:!0,render:function(e){return document.title="–í—Ö–æ–¥ | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",r.default.createElement(h.default,null)}}),r.default.createElement(c.Route,{component:v.default})),r.default.createElement("div",{className:"footer page__footer"},r.default.createElement("hr",null),r.default.createElement("a",{href:"http://radio-t.com/"},"Radio-T"),","," ",(new Date).getFullYear()),r.default.createElement(g.default,{className:"page__notifications",notifications:this.props.notifications})))}}]),t}();function T(){return(T=k(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,f.getTheme)(),document.documentElement.dataset.theme=t,(0,a.setTheme)(t,!0),n=(0,i.connect)(function(e){return e})(R),e.next=6,(0,f.loginViaCookies)().then(function(e){(0,a.setState)({isAdmin:e})});case 6:(0,a.setState)({autoScroll:(0,f.getAutoScroll)()}),(0,o.render)(r.default.createElement(i.Provider,{store:a.store},r.default.createElement(n,null)),document.querySelector(".app")),(0,f.getActiveArticle)().then(function(){var e=k(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.setState)({activeId:t}),e.next=3,(0,b.waitDOMReady)();case 3:n=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.pollActiveArticle)();case 2:if((t=e.sent)!==a.store.getState().activeId){e.next=6;break}return(0,a.addNotification)({data:r.default.createElement("b",null,"–¢–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞"),time:3e3}),e.abrupt("return","continue");case 6:return(0,a.setState)({activeId:t}),a.store.getState().autoScroll&&setTimeout(function(){var e=document.querySelector(".post-active");e&&e.scrollIntoView({behavior:"smooth"})},500),e.next=10,(0,f.getArticleById)(t);case 10:n=e.sent,setTimeout(function(){document.title="* –¢–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ | –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢"},300),n&&n.hasOwnProperty("title")&&((0,a.removeNotificationsWithContext)("active-article"),(0,a.addNotification)(function(e){return{data:r.default.createElement("span",null,'–¢–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ "',r.default.createElement(l.HashLink,{to:"/#active-article",onClick:function(){return e()},scroll:function(e){e&&("/"!==location.pathname?setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},500):e.scrollIntoView({behavior:"smooth"}))}},n.title),'"'),time:null,context:"active-article"}}));case 13:case"end":return e.stop()}},e,this)});case 4:return e.delegateYield(n(),"t0",6);case 6:if("continue"!==e.t0){e.next=9;break}return e.abrupt("continue",4);case 9:e.next=4;break;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}(function(){return T.apply(this,arguments)})().catch(function(e){return console.error(e)})},128:function(e,t,n){},131:function(e,t,n){"use strict";!function(e,t,n,r,o,a,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(n),i=t.getElementsByTagName(n)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",i.parentNode.insertBefore(a,i)}(window,document,"script",0,"ga"),ga("create","UA-148514-6","auto"),ga("send","pageview")},141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(74),n(48),n(26),n(46),n(76),n(5),n(15),n(16);var r=u(n(1)),o=n(33),a=n(20),i=u(n(152)),s=u(n(50));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,d(t).call(this,e))).state={article:null},(0,a.getArticle)(e.slug).then(function(e){document.title=e.title+"| –ù–æ–≤–æ—Å—Ç–∏ –†–∞–¥–∏–æ-–¢",n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}({},n.state,{article:e}))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.default.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){return null===this.state.article?r.default.createElement(s.default,null):r.default.createElement("article",{className:"full-post"},r.default.createElement("h3",{className:"title full-post__title"},this.state.article.geek&&r.default.createElement("span",{className:"post__title-geek",title:"–ì–∏–∫–æ–≤—Å–∫–∞—è —Ç–µ–º–∞"},"‚Ä¢"),r.default.createElement("a",{className:"post__title-link",href:this.state.article.origlink},this.state.article.title)),r.default.createElement("div",{className:"post__meta full-post__meta"},r.default.createElement("a",{className:"post__original-link",href:this.state.article.origlink,title:this.state.article.origlink},this.state.article.domain),r.default.createElement("span",{className:"post__timestamp",title:this.state.article.ats,dangerouslySetInnerHTML:{__html:(0,o.formatDate)(new Date(Date.parse(this.state.article.ats)))}})),r.default.createElement("div",{className:"article-content full-post__content",dangerouslySetInnerHTML:{__html:this.state.article.content||this.state.article.snippet}}),r.default.createElement("hr",{className:"full-post__break"}),r.default.createElement(i.default,{className:"full-post__comments",id:"to-comments",config:{site_id:"rtnews"}}))}},{key:"componentDidMount",value:function(){setTimeout(function(){var e=window.location.hash;if(""!==e){var t=document.getElementById(e.substr(1));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},200)}}]),t}();t.default=h},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(36),n(5),n(15),n(16),n(74),n(153),n(49),n(26),n(46),n(76),n(23),n(78);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this;return r.default.createElement("div",a({ref:function(t){return e.ref=t},id:"remark42"},this.props))}},{key:"componentDidMount",value:function(){var e=this.props.baseurl||"https://remark42.radio-t.com",t=this.props.config;if(t.site_id){t.url=(t.url||window.location.href).split("#")[0];var n=this.ref,r=Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&");n.innerHTML='\n    <iframe\n      src="'.concat(e,"/web/iframe.html?").concat(r,'"\n      width="100%"\n      frameborder="0"\n      allowtransparency="true"\n      scrolling="no"\n      tabindex="0"\n      title="Remark42"\n      style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important;"\n      horizontalscrolling="no"\n      verticalscrolling="no"\n    ></iframe>\n  ');var o=n.getElementsByTagName("iframe")[0];this.receiveMessages=function(e){try{var t="string"==typeof e.data?JSON.parse(e.data):e.data;t.remarkIframeHeight&&(o.style.height="".concat(t.remarkIframeHeight,"px")),t.scrollTo&&window.scrollTo(window.pageXOffset,t.scrollTo+o.getBoundingClientRect().top+window.pageYOffset),t.hasOwnProperty("isUserInfoShown")&&(t.isUserInfoShown?i.init(t.user||{}):i.close())}catch(e){}},this.postHashToIframe=function(e){var t=e?"#".concat(e.newURL.split("#")[1]):window.location.hash;0===t.indexOf("#".concat("remark42__comment-"))&&(e&&e.preventDefault(),o.contentWindow&&o.contentWindow.postMessage(JSON.stringify({hash:t}),"*"))},this.postClickOutsideToIframe=function(e){o.contains(e.target)||o.contentWindow&&o.contentWindow.postMessage(JSON.stringify({clickOutside:!0}),"*")},window.addEventListener("message",this.receiveMessages),window.addEventListener("hashchange",this.postHashToIframe),document.addEventListener("click",this.postClickOutsideToIframe),setTimeout(this.postHashToIframe,1e3);var a="remark-km423lmfdslkm34",i={node:null,back:null,closeEl:null,iframe:null,style:null,init:function(t){var n=this;this.animationStop(),this.style||(this.style=document.createElement("style"),this.style.setAttribute("rel","stylesheet"),this.style.setAttribute("type","text/css"),this.style.innerHTML="\n          #".concat(a,"-node {\n            position: fixed;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 400px;\n            transition: transform 0.4s ease-out;\n            max-width: 100%;\n            transform: translate(400px, 0);\n          }\n          #").concat(a,"-node[data-animation] {\n            transform: translate(0, 0);\n          }\n          #").concat(a,"-back {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0,0,0,0.7);\n            opacity: 0;\n            transition: opacity 0.4s ease-out;\n          }\n          #").concat(a,"-back[data-animation] {\n            opacity: 1;\n          }\n          #").concat(a,"-close {\n            top: 0px;\n            right: 400px;\n            position: absolute;\n            text-align: center;\n            font-size: 25px;\n            cursor: pointer;\n            color: white;\n            border-color: transparent;\n            border-width: 0;\n            padding: 0;\n            margin-right: 4px;\n            background-color: transparent;\n          }\n          @media all and (max-width: 430px) {\n            #").concat(a,"-close {\n              right: 0px;\n              font-size: 20px;\n              color: black;\n            }\n          }\n        ")),this.node||(this.node=document.createElement("div"),this.node.id=a+"-node"),this.back||(this.back=document.createElement("div"),this.back.id=a+"-back",this.back.onclick=function(){return n.close()}),this.closeEl||(this.closeEl=document.createElement("button"),this.closeEl.id=a+"-close",this.closeEl.innerHTML="&#10006;",this.closeEl.onclick=function(){return n.close()});var o=r+"&page=user-info&"+"&id=".concat(t.id,"&name=").concat(t.name,"&picture=").concat(t.picture||"","&isDefaultPicture=").concat(t.isDefaultPicture||0);this.node.innerHTML='\n      <iframe\n        src="'.concat(e,"/web/iframe.html?").concat(o,'"\n        width="100%"\n        height="100%"\n        frameborder="0"\n        allowtransparency="true"\n        scrolling="no"\n        tabindex="0"\n        title="Remark42"\n        verticalscrolling="no"\n        horizontalscrolling="no"\n      />'),this.iframe=this.node.querySelector("iframe"),this.node.appendChild(this.closeEl),document.body.appendChild(this.style),document.body.appendChild(this.back),document.body.appendChild(this.node),document.addEventListener("keydown",this.onKeyDown),setTimeout(function(){n.back.setAttribute("data-animation",""),n.node.setAttribute("data-animation",""),n.iframe.focus()},400)},close:function(){this.node&&(this.onAnimationClose(),this.node.removeAttribute("data-animation")),this.back&&this.back.removeAttribute("data-animation"),document.removeEventListener("keydown",this.onKeyDown)},delay:null,events:["","webkit","moz","MS","o"].map(function(e){return e?"".concat(e,"TransitionEnd"):"transitionend"}),onAnimationClose:function(){var e=this,t=this.node;this.node&&(this.delay=setTimeout(this.animationStop,1e3),this.events.forEach(function(n){return t.addEventListener(n,e.animationStop,!1)}))},onKeyDown:function(e){27==e.keyCode&&i.close()},animationStop:function(){var e=i;if(e.node)return e.delay&&(clearTimeout(e.delay),e.delay=null),e.events.forEach(function(t){return e.node.removeEventListener(t,e.animationStop,!1)}),e.remove()},remove:function(){var e=i;e.node&&e.node.remove(),e.back&&e.back.remove(),e.style&&e.style.remove()}}}else console.error("Remark42: Site ID is undefined.")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessages),window.removeEventListener("hashchange",this.postHashToIframe),document.removeEventListener("click",this.postClickOutsideToIframe)}}]),t}();t.default=l},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(17),n(5),n(15),n(16),n(19);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(21),a=n(20),i=n(37);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){(0,i.setTheme)(e),(0,a.setTheme)(e)},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.default.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){var e=this;return r.default.createElement("div",{className:"header wrapper page__header"},r.default.createElement("h1",{className:"title header__title"},"–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –†–∞–¥–∏–æ-–¢"),r.default.createElement("ul",{className:"navigation header__navigation"},this.props.isAdmin&&r.default.createElement("li",{className:"navigation__item navigation__item_admin navigation__item_right navigation__item_logout"},r.default.createElement("span",{role:"button",className:"pseudo navigation__item-link",onClick:function(t){return e.logout()}},"–í—ã–π—Ç–∏")),r.default.createElement("li",{className:"navigation__item navigation__item_user"},r.default.createElement(o.NavLink,{to:"/",exact:!0,className:"link navigation__item-link"},"–í—Å–µ —Ç–µ–º—ã")),this.props.isAdmin&&r.default.createElement("li",{className:"navigation__item navigation__item_admin",id:"dels-wrap"},r.default.createElement(o.NavLink,{to:"/deleted/",exact:!0,className:"link navigation__item-link"},"–£–¥–∞–ª—ë–Ω–Ω—ã–µ")),r.default.createElement("li",{className:"navigation__item"},r.default.createElement(o.NavLink,{to:"/archive/",exact:!0,className:"link navigation__item-link"},"–ê—Ä—Ö–∏–≤")),this.props.isAdmin&&r.default.createElement("li",{className:"navigation__item navigation__item_admin"},r.default.createElement(o.NavLink,{to:"/sort/",exact:!0,className:"link navigation__item-link"},"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å¬†—Ç–µ–º—ã")),this.props.isAdmin&&r.default.createElement("li",{className:"navigation__item navigation__item_admin"},r.default.createElement(o.NavLink,{to:"/feeds/",exact:!0,className:"link navigation__item-link"},"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–¥–∞–º–∏")),this.props.isAdmin&&r.default.createElement("li",{className:"navigation__item navigation__item_admin"},r.default.createElement("span",{role:"button",className:"pseudo link navigation__item-link",onClick:function(){return e.update()}},"–û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É")),this.props.isAdmin&&r.default.createElement("li",{className:"navigation__item navigation__item_admin"},r.default.createElement("span",{role:"button",className:"pseudo navigation__item-link",onClick:function(){return e.poehali()}},"–ü–æ–µ—Ö–∞–ª–∏!")),this.props.isAdmin&&"day"===this.props.theme&&r.default.createElement("button",{onClick:function(){return d("night")},title:"–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–æ—á–Ω—É—é —Ç–µ–º—É",className:"inline-button navigation__item navigation__theme-switcher"},"üåö"),this.props.isAdmin&&"night"===this.props.theme&&r.default.createElement("button",{onClick:function(){return d("day")},title:"–ü–æ—Å—Ç–∞–≤–∏—Ç—å –¥–Ω–µ–≤–Ω—É—é —Ç–µ–º—É",className:"inline-button navigation__item navigation__theme-switcher"},"üåû"),this.props.isAdmin&&r.default.createElement("br",null),r.default.createElement(o.Route,{path:"/",exact:!0,render:function(){return r.default.createElement("li",{className:"navigation__item navigation__item_to-current"},r.default.createElement("span",null,r.default.createElement("span",{role:"button",className:"pseudo navigation__item-link",onClick:function(){return e.scrollToCurrent()}},"–ö —Ç–µ–∫—É—â–µ–π —Ç–µ–º–µ"),r.default.createElement("span",{role:"button",className:"navigation__scroll-toggle",onClick:function(){return e.toggleAutoScroll()},title:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–µ"},e.props.autoScroll&&!0===e.props.autoScroll?"‚óâ":"‚óé")))}}),r.default.createElement(o.Route,{path:"/news/:slug",render:function(){return r.default.createElement("li",{className:"navigation__item navigation__item_to-comments"},r.default.createElement("a",{role:"button",href:"#to-comments",className:"pseudo navigation__item-link",onClick:function(e){e.preventDefault(),setTimeout(function(){var e=document.getElementById("to-comments");e&&e.scrollIntoView({behavior:"smooth"})},200)}},"–ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º"))}}),!this.props.isAdmin&&"day"===this.props.theme&&r.default.createElement("button",{onClick:function(){return d("night")},title:"–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–æ—á–Ω—É—é —Ç–µ–º—É",className:"inline-button navigation__item navigation__theme-switcher"},"üåö"),!this.props.isAdmin&&"night"===this.props.theme&&r.default.createElement("button",{onClick:function(){return d("day")},title:"–ü–æ—Å—Ç–∞–≤–∏—Ç—å –¥–Ω–µ–≤–Ω—É—é —Ç–µ–º—É",className:"inline-button navigation__item navigation__theme-switcher"},"üåû")),r.default.createElement("hr",null))}},{key:"logout",value:function(){(0,a.logout)(),(0,i.setState)({isAdmin:!1})}},{key:"update",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,s,"next",e)}function s(e){u(a,r,o,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.update)().then(function(){(0,i.addNotification)({data:r.default.createElement("b",null,"–ë–∞–∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞")})}).catch(function(e){console.error(e),(0,i.addNotification)({data:r.default.createElement("b",null,"–ù–µ –º–æ–≥—É –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É"),level:"error"})});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleAutoScroll",value:function(){var e=!i.store.getState().autoScroll;(0,i.setState)({autoScroll:e}),(0,a.setAutoScroll)(e)}},{key:"scrollToCurrent",value:function(){var e=document.querySelector(".post-active");e?e.scrollIntoView({behavior:"smooth"}):(0,i.addNotification)({data:r.default.createElement("span",null,"–¢–µ–∫—É—â–µ–π —Ç–µ–º—ã –Ω–µ—Ç")})}},{key:"poehali",value:function(){confirm("–¢–∞–∫–∏ –ø–æ–µ—Ö–∞–ª–∏?")&&(0,a.startShow)().then(function(){(0,i.addNotification)({data:r.default.createElement("b",null,"–®–æ—É –Ω–∞—á–∞–ª–æ—Å—å")})}).catch(function(e){console.error(e),(0,i.addNotification)({data:r.default.createElement("b",null,"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —à–æ—É"),level:"error"})})}}]),t}();t.default=m},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeletedListing=t.ArchiveListing=t.Listing=void 0,n(17),n(72),n(73),n(54),n(55),n(9),n(10),n(26),n(56),n(36),n(5),n(15),n(16),n(19),n(48),n(23),n(79);var r=p(n(1)),o=p(n(161)),a=p(n(163)),i=n(21),s=n(39),u=n(33),c=n(20),l=p(n(106)),f=p(n(50));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)})}}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function w(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(e){var n;return g(this,t),(n=w(this,k(t).call(this,e))).state={postRecentness:(0,c.getRecentness)(),postLevel:(0,c.getPostLevel)(),sort:(0,c.getSorting)(),loaded:!1,news:[],addFormExpanded:!1},n}return E(t,r.default.Component),_(t,[{key:"render",value:function(){var e=this;return this.state.loaded?r.default.createElement(r.default.Fragment,null,r.default.createElement(a.default,{includeFilters:!0,postRecentness:this.state.postRecentness,onRecentnessChange:function(t){e.setState({postRecentness:t}),(0,c.setRecentness)(t)},postLevel:this.state.postLevel,onPostLevelChange:function(t){var n=(0,u.first)(s.postLevels,function(e){return e.title===t});e.setState({postLevel:n}),(0,c.setPostLevel)(n)},sort:this.state.sort,onSortingChange:function(t){e.setState({sort:t}),(0,c.setSorting)(t)},className:this.props.isAdmin?"listing-actions-all":""}),this.props.isAdmin&&r.default.createElement("div",{className:"add-form-overlay "+(this.state.addFormExpanded?"add-form-overlay-expanded":"")},!this.state.addFormExpanded&&r.default.createElement("span",{className:"pseudo add-form-overlay__control",onClick:function(){e.setState({addFormExpanded:!0}),setTimeout(function(){var e=document.querySelector(".add-form__article-url")||document.querySelector(".add-form__article-manual-link");e&&e.focus()},500)}},"–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å"),this.state.addFormExpanded&&r.default.createElement("span",{className:"pseudo add-form-overlay__control",onClick:function(){return e.setState({addFormExpanded:!1})}},"–ó–∞–∫—Ä—ã—Ç—å"),r.default.createElement(l.default,y({},this.props,{style:{display:this.state.addFormExpanded?null:"none"},onAdd:function(){(0,u.sleep)(1e3).then(function(){e.update()})}}))),r.default.createElement("div",{className:"news page__news"},v(this.state.news).sort(function(t,n){return e.state.sort.fn(t,n)}).filter(function(t,n){return e.state.postRecentness.fn(t,n,e.state.postLevel.hasOwnProperty("isgeek"))&&e.state.postLevel.fn(t,n)}).map(function(t,n){var a=t.id===e.props.activeId,i=e.state.postRecentness===s.postRecentness[0]&&e.state.postLevel===s.postLevels[0]&&e.state.sort===s.sortings[0];return r.default.createElement(o.default,{key:t.id,article:t,archive:!1,isAdmin:e.props.isAdmin,controls:e.props.isAdmin?[a?null:"make-current",i&&0!==n?"make-first":null,t.geek?"make-ungeek":"make-geek","archive","remove"].filter(function(e){return null!==e}):[],update:function(){return e.update()},active:a,draggable:e.props.isAdmin&&i,onMove:function(){return e.update()}})}))):r.default.createElement(f.default,null)}},{key:"update",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getNews)();case 2:t=e.sent,this.setState({news:t,loaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.update();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();t.Listing=x;var O=function(e){function t(e){var n;return g(this,t),(n=w(this,k(t).call(this,e))).state={postRecentness:s.postRecentness[0],postLevel:s.postLevels[0],sort:(0,c.getArchiveSorting)(),news:[],loaded:!1},n}return E(t,r.default.Component),_(t,[{key:"render",value:function(){var e=this;return this.state.loaded?r.default.createElement(r.default.Fragment,null,r.default.createElement(a.default,{includeFilters:!1,sort:this.state.sort,sortings:s.archiveSortings,onSortingChange:function(t){e.setState({sort:t}),(0,c.setArchiveSorting)(t)}}),r.default.createElement("div",{className:"news page__news"},v(this.state.news).sort(function(t,n){return e.state.sort.fn(t,n)}).map(function(t){return r.default.createElement(o.default,{key:t.id,article:t,archive:!0,isAdmin:e.props.isAdmin,controls:e.props.isAdmin?["remove"]:[],update:function(){return e.update()}})}))):r.default.createElement(f.default,null)}},{key:"update",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getArchiveNews)();case 2:t=e.sent,this.setState({news:t,loaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.update();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();t.ArchiveListing=O;var N=function(e){function t(e){var n;return g(this,t),(n=w(this,k(t).call(this,e))).state={postRecentness:s.postRecentness[0],postLevel:s.postLevels[0],sort:(0,c.getArchiveSorting)(),news:[],loaded:!1},n}return E(t,r.default.Component),_(t,[{key:"render",value:function(){var e=this;return this.props.isAdmin?this.state.loaded?r.default.createElement("div",{className:"news deleted-news page__news"},v(this.state.news).sort(function(e,t){return Date.parse(e.ats)<Date.parse(t.ats)}).map(function(t){return r.default.createElement(o.default,{key:t.id,article:t,isAdmin:e.props.isAdmin,controls:e.props.isAdmin?["restore"]:[],update:function(){return e.update()}})})):r.default.createElement(f.default,null):r.default.createElement(i.Redirect,{to:"/login/"})}},{key:"update",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getDeletedNews)();case 2:t=e.sent,this.setState({news:t,loaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.update();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();t.DeletedListing=N},161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(17),n(5),n(15),n(16),n(23),n(19),n(49);var r=d(n(1)),o=n(33),a=d(n(107)),i=d(n(108)),s=n(39),u=n(21),c=d(n(109)),l=n(20),f=d(n(50)),p=n(105);function d(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(){},w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,g(t).call(this,e))).state={articleText:null,detailedExpanded:!1,fetchLock:!1,draggable:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.default.Component),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"fetchArticle",value:function(){var e=this;this.state.fetchLock||null===this.state.articleText&&(this.setState({fetchLock:!0}),(0,l.getArticle)(this.props.article.slug).then(function(t){e.setState({articleText:t.content})}).catch(function(t){e.setState({articleText:"–ù–µ —Å–º–æ–≥ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å",fetchLock:!1}),console.error(t)}))}},{key:"onDrag",value:function(e){this.setState({detailedExpanded:!1}),e.dataTransfer.setData("rtnews/article",JSON.stringify(this.props.article)),e.dataTransfer.setData("rtnews/article-id",this.props.article.id)}},{key:"onDragOver",value:function(e){if(-1!==e.dataTransfer.types.indexOf("rtnews/article")){if(e.preventDefault(),e.dataTransfer.getData("rtnews/article-id")===this.props.article.id)return this.ref.classList.remove("drop-top"),void this.ref.classList.remove("drop-bottom");1===function(){var t=e.currentTarget.getBoundingClientRect();return(e.clientY-t.y)/t.height*100<60?1:0}()?(this.ref.classList.remove("drop-bottom"),this.ref.classList.add("drop-top")):(this.ref.classList.remove("drop-top"),this.ref.classList.add("drop-bottom"))}}},{key:"onDragLeave",value:function(e){this.ref.classList.remove("drop-top"),this.ref.classList.remove("drop-bottom")}},{key:"onDragEnd",value:function(e){this.ref.classList.remove("drop-top"),this.ref.classList.remove("drop-bottom")}},{key:"onDrop",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,s,"next",e)}function s(e){h(a,r,o,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ref.classList.remove("drop-top"),this.ref.classList.remove("drop-bottom"),-1!==t.dataTransfer.types.indexOf("rtnews/article")){e.next=4;break}return e.abrupt("return");case 4:if(t.preventDefault(),(n=JSON.parse(t.dataTransfer.getData("rtnews/article"))).position!==this.props.article.position){e.next=8;break}return e.abrupt("return");case 8:return r=function(){var e=t.currentTarget.getBoundingClientRect();return(t.clientY-e.y)/e.height*100<60?1:0}(),n.position<this.props.article.position&&(r-=1),e.next=12,(0,l.moveArticle)(n.position,this.props.article.position+r);case 12:this.props.onMove&&this.props.onMove(n.position,this.props.article.position+r);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.default.createElement("article",{key:this.props.article.id,id:this.props.active&&"active-article",className:"post "+(this.props.active&&!0===this.props.active?"post-active":""),draggable:this.state.draggable&&this.props.draggable,onDragStartCapture:function(t){return e.onDrag(t)},onDragOver:function(t){return e.onDragOver(t)},onDragLeave:function(t){return e.onDragLeave(t)},onDragEnd:function(t){return e.onDragEnd(t)},onDrop:function(t){return e.onDrop(t)},ref:function(t){return e.ref=t}},this.props.draggable&&r.default.createElement("div",{className:"post__drag-handle",onMouseEnter:function(){return e.setState({draggable:!0})},onMouseLeave:function(){return e.setState({draggable:!1})}}),this.props.controls&&r.default.createElement("div",{className:"post-controls post__controls"},this.props.controls.map(function(t){return r.default.createElement("span",{role:"button",className:"post-controls__control "+"post-controls__control-".concat(t),key:t,onClick:function(){return c.default[t].fn(e.props.article,e.props.update||_)}},c.default[t].title)})),this.props.article.pic&&!this.props.archive&&r.default.createElement("div",{className:"post__image-container",style:{backgroundImage:"url(".concat(this.props.article.pic,")")}}),r.default.createElement("h3",{className:"title post__title"},this.props.article.geek&&r.default.createElement("span",{className:"post__title-geek",title:"–ì–∏–∫–æ–≤—Å–∫–∞—è —Ç–µ–º–∞"},"‚Ä¢"),r.default.createElement(u.Link,{className:"post__title-link",to:"".concat(s.postsPrefix,"/").concat(this.props.article.slug)},this.props.article.title||r.default.createElement("span",{className:"post__empty-title"},"No Title"))),r.default.createElement("div",{className:"post__meta"},r.default.createElement("a",{className:"post__original-link",href:this.props.article.origlink,title:this.props.article.origlink},this.props.article.domain),r.default.createElement("span",{className:"post__timestamp",title:this.props.article.ats,dangerouslySetInnerHTML:{__html:(0,o.formatDate)(new Date(Date.parse(this.props.article.ats)))}}),r.default.createElement(p.HashLink,{className:"post__comments-link",to:"".concat(s.postsPrefix,"/").concat(this.props.article.slug,"#to-comments"),scroll:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},500)}},r.default.createElement(a.default,{className:"icon post__comments-icon",svg:i.default}),this.props.article.comments)),!this.props.archive&&[r.default.createElement("div",{key:"paragraph",className:"post__snippet"},r.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.article.snippet}})),r.default.createElement("span",{key:"detailed",className:"pseudo post__detailed-link",to:"".concat(s.postsPrefix,"/").concat(this.props.article.slug),onClick:function(t){e.setState({detailedExpanded:!e.state.detailedExpanded}),e.fetchArticle()}},this.state.detailedExpanded?"–°–∫—Ä—ã—Ç—å":"–ü–æ–¥—Ä–æ–±–Ω–µ–µ"),this.state.detailedExpanded&&(null===this.state.articleText?r.default.createElement("div",{className:"post__full-content",key:"fulltext"},r.default.createElement(f.default,null)):r.default.createElement("div",{className:"article-content post__full-content",key:"fulltext"},r.default.createElement("div",{class:"article-content post__full-content-content",dangerouslySetInnerHTML:{__html:this.state.articleText}}),r.default.createElement("div",{className:"post__full-content-hide",onClick:function(){return e.setState({detailedExpanded:!1})}},"√ó")))])}}]),t}();t.default=w},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(5),n(15),n(16),n(79),n(23);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(39);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this;return r.default.createElement("div",{className:"listing-actions "+(this.props.className||"")},this.props.includeFilters?r.default.createElement("div",{className:"listing-actions__filters"},this.props.postRecentness===o.postRecentness[0]?r.default.createElement("button",{className:"listing-actions__news-recent-button",onClick:function(t){return e.props.onRecentnessChange&&e.props.onRecentnessChange(o.postRecentness[1])}},"–°–≤–µ–∂–∏–µ"):r.default.createElement("button",{className:"listing-actions__news-recent-button listing-actions__news-recent-button-active",onClick:function(t){return e.props.onRecentnessChange&&e.props.onRecentnessChange(o.postRecentness[0])}},"–°–≤–µ–∂–∏–µ"),r.default.createElement("select",{className:"listing-actions__news-type-select ".concat(this.props.postLevel.title!==o.postLevels[0].title?"listing-actions__news-type-select-selected":""),value:this.props.postLevel.title,onChange:function(t){return e.props.onPostLevelChange&&e.props.onPostLevelChange(t.target.value)}},o.postLevels.map(function(e){return r.default.createElement("option",{value:e.title,key:e.title},e.title)}))):r.default.createElement("div",null),r.default.createElement("div",{className:"listing-actions__sortings"},r.default.createElement("ul",{className:"sortings-list"},(this.props.sortings||o.sortings).map(function(t){return t.title===e.props.sort.title?r.default.createElement("li",{role:"button",className:"sortings-list__item sortings-list__current-item",key:t.title},r.default.createElement("label",{className:"sortings-list__item-content sortings-list__current-item-content"},r.default.createElement("input",{type:"radio",className:"sortings-list__item-input",checked:"true",name:"post-sortings",value:t.title}),t.title)):r.default.createElement("li",{role:"button",className:"sortings-list__item",onClick:function(n){return e.props.onSortingChange&&e.props.onSortingChange(t)},key:t.title},r.default.createElement("label",{className:"sortings-list__item-content"},r.default.createElement("input",{type:"radio",className:"sortings-list__item-input",name:"post-sortings",value:t.title}),t.title))}))))}}]),t}();t.default=l},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(17),n(5),n(15),n(16),n(19),n(23);var r=u(n(1)),o=u(n(50)),a=n(20),i=n(33),s=n(21);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,m(t).call(this,e))).state={feeds:[],loaded:!1,posting:!1,feedurl:""},(0,a.getFeeds)().then(function(e){n.setState({feeds:e,loaded:!0})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.default.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){var e=this;return this.props.isAdmin?this.state.loaded?r.default.createElement("div",{className:"feeds"},r.default.createElement("div",{className:"feeds__container"},this.state.feeds.map(function(t){return r.default.createElement("div",{className:"feeds__item",key:t.id},r.default.createElement("h2",{className:"feeds__item-header"},r.default.createElement("a",{className:"feeds__item-link",href:t.feedlink},t.feedlink)),r.default.createElement("span",{className:"feeds__updated-at",dangerouslySetInnerHTML:{__html:"–û–±–Ω–æ–≤–ª–µ–Ω–æ –≤ "+(0,i.formatDate)(new Date(Date.parse(t.updated)))}}),r.default.createElement("span",{className:"pseudo feeds__remove-feed",onClick:function(){return e.removeFeed(t)}},"–£–¥–∞–ª–∏—Ç—å"))})),r.default.createElement("form",{className:"feeds__add-form",onSubmit:function(t){return e.onSubmit(t)}},r.default.createElement("input",{className:"feeds__add-input",type:"text",placeholder:"–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–¥",value:this.state.feedurl,onChange:function(t){return e.setState({feedurl:t.target.value})}}),r.default.createElement("input",{className:"feeds__add-submit",type:"submit",value:"–î–æ–±–∞–≤–∏—Ç—å",disabled:0===this.state.feedurl.length})),this.state.posting&&r.default.createElement("span",null,"—Ä–∞–±–æ—Ç–∞—é...")):r.default.createElement(o.default,null):r.default.createElement(s.Redirect,{to:"/login/"})}},{key:"removeFeed",value:function(){var e=f(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("–£–¥–∞–ª–∏—Ç—å ".concat(t.feedlink,"?"))){e.next=12;break}return this.setState({posting:!0}),e.prev=2,e.next=5,(0,a.removeFeed)(t.id);case 5:return e.next=7,(0,i.sleep)(1e3);case 7:return e.next=9,(0,a.getFeeds)().then(function(e){n.setState({feeds:e})});case 9:return e.prev=9,this.setState({posting:!1}),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[2,,9,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=f(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({posting:!0}),e.prev=2,e.next=5,(0,a.addFeed)(this.state.feedurl);case 5:return e.next=7,(0,i.sleep)(1e3);case 7:return e.next=9,(0,a.getFeeds)().then(function(e){n.setState({feeds:e,feedurl:""})});case 9:return e.prev=9,this.setState({posting:!1}),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[2,,9,12]])}));return function(t){return e.apply(this,arguments)}}()}]),t}();t.default=v},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(17),n(5),n(15),n(16),n(19);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(37),a=n(20),i=n(21);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,f(t).call(this,e))).state={user:"",password:"",denied:0,loggedIn:!1},(0,a.loginViaCookies)().then(function(e){n.setState({loggedIn:e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.default.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){var e=this;return this.state.loggedIn?r.default.createElement(i.Redirect,{to:"/"}):r.default.createElement("form",{className:"login-form",onSubmit:function(t){return e.onSubmit(t)}},r.default.createElement("p",{className:"login-form__header"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å:"),r.default.createElement("input",{className:"login-form__user",type:"text",placeholder:"–õ–æ–≥–∏–Ω",value:this.state.user,onChange:function(t){return e.setState({user:t.target.value})}}),r.default.createElement("input",{className:"login-form__password",type:"password",placeholder:"–ü–∞—Ä–æ–ª—å",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.default.createElement("input",{className:"login-form__submit",type:"submit",value:"–í–æ–π—Ç–∏",disabled:0===this.state.user.length||0===this.state.password.length,title:0===this.state.user.length||0===this.state.password.length?"–ü–æ–ª—è –õ–æ–≥–∏–Ω –∏ –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã":""}),this.state.denied>0&&r.default.createElement("p",{className:"login-form__denied"},"You shall not pass!"))}},{key:"componentDidMount",value:function(){setTimeout(function(){var e=document.querySelector("input.login-form__user");e&&e.focus()},500)}},{key:"onSubmit",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,s,"next",e)}function s(e){u(a,r,o,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,a.login)(this.state.user,this.state.password).catch(function(e){return console.error(e),!1});case 3:if(e.sent){e.next=8;break}return this.setState(function(e){return{denied:e.denied+1}}),setTimeout(function(){n.setState(function(e){var t=e.denied-1;return{denied:t<0?0:t}})},7e3),e.abrupt("return");case 8:(0,o.setState)({isAdmin:!0}),this.setState({loggedIn:!0});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}();t.default=d},166:function(e,t,n){"use strict";n(5),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.default.createElement("div",{className:"not-found"},r.default.createElement("h1",{className:"not-found__header"},"404"),r.default.createElement("p",{className:"not-found__text"},"–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"),r.default.createElement(o.Link,{to:"/",className:"not-found__link"},"–ù–∞ –≥–ª–∞–≤–Ω—É—é"))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(21)},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(79),n(9),n(10),n(17),n(5),n(15),n(16),n(77),n(23),n(19),n(49),n(48);var r=p(n(1)),o=n(39),a=p(n(50)),i=n(20),s=n(33),u=p(n(107)),c=p(n(108)),l=n(21),f=p(n(109));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var n;return h(this,t),(n=g(this,b(t).call(this,e))).state={draggable:!1},n.controls=function(){return[n.props.current?null:"make-current",n.props.article.geek?"make-ungeek":"make-geek","archive","remove"].filter(function(e){return null!==e})},n}return _(t,r.default.Component),y(t,[{key:"onDrag",value:function(e){e.dataTransfer.setData("rtnews/article",JSON.stringify(this.props.article)),e.dataTransfer.setData("rtnews/article-id",this.props.article.id)}},{key:"onDragOver",value:function(e){if(-1!==e.dataTransfer.types.indexOf("rtnews/article")){if(e.preventDefault(),e.dataTransfer.getData("rtnews/article-id")===this.props.article.id)return this.ref.classList.remove("drop-top"),void this.ref.classList.remove("drop-bottom");1===function(){var t=e.currentTarget.getBoundingClientRect();return(e.clientY-t.y)/t.height*100<60?1:0}()?(this.ref.classList.remove("drop-bottom"),this.ref.classList.add("drop-top")):(this.ref.classList.remove("drop-top"),this.ref.classList.add("drop-bottom"))}}},{key:"onDragLeave",value:function(e){this.ref.classList.remove("drop-top"),this.ref.classList.remove("drop-bottom")}},{key:"onDragEnd",value:function(e){this.ref.classList.remove("drop-top"),this.ref.classList.remove("drop-bottom")}},{key:"onDrop",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ref.classList.remove("drop-top"),this.ref.classList.remove("drop-bottom"),-1!==t.dataTransfer.types.indexOf("rtnews/article")){e.next=4;break}return e.abrupt("return");case 4:if(t.preventDefault(),(n=JSON.parse(t.dataTransfer.getData("rtnews/article"))).position!==this.props.article.position){e.next=8;break}return e.abrupt("return");case 8:return r=function(){var e=t.currentTarget.getBoundingClientRect();return(t.clientY-e.y)/e.height*100<60?1:0}(),n.position<this.props.article.position&&(r-=1),e.next=12,(0,i.moveArticle)(n.position,this.props.article.position+r);case 12:this.props.onMove&&this.props.onMove(n.position,this.props.article.position+r);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.default.createElement("div",{draggable:this.state.draggable,className:"sorter__item "+(this.props.current?"sorter__item-current":""),onDragStartCapture:function(t){return e.onDrag(t)},onDragOver:function(t){return e.onDragOver(t)},onDragLeave:function(t){return e.onDragLeave(t)},onDragEnd:function(t){return e.onDragEnd(t)},onDrop:function(t){return e.onDrop(t)},ref:function(t){return e.ref=t}},r.default.createElement("div",{className:"sorter__item-content"},r.default.createElement("div",{className:"post-controls sorter__item-controls"},this.controls().map(function(t){return r.default.createElement("span",{role:"button",className:"post-controls__control "+"post-controls__control-".concat(t),key:t,onClick:function(){return f.default[t].fn(e.props.article,e.props.update||noop)}},f.default[t].title)})),r.default.createElement("div",{className:"sorter__item-header"},this.props.article.geek&&r.default.createElement("span",{className:"sorter__geek-indicator",title:"–ì–∏–∫–æ–≤—Å–∫–∞—è —Ç–µ–º–∞"},"‚Ä¢"),r.default.createElement(l.Link,{to:"".concat(o.postsPrefix,"/").concat(this.props.article.slug),className:"sorter__item-link"},this.props.article.title.trim())),r.default.createElement("div",{className:"sorter__item-meta"},r.default.createElement("a",{className:"sorter__item-original-link",href:this.props.article.origlink,title:this.props.article.origlink},this.props.article.domain),r.default.createElement("span",{className:"sorter__item-timestamp",title:this.props.article.ats,dangerouslySetInnerHTML:{__html:(0,s.formatDate)(new Date(Date.parse(this.props.article.ats)))}}),r.default.createElement("span",{className:"sorter__comments-link"},r.default.createElement(u.default,{className:"icon sorter__comments-icon",svg:c.default}),"¬†",this.props.article.comments))),r.default.createElement("div",{className:"sorter__item-handle",ref:this.handle,onMouseEnter:function(){return e.setState({draggable:!0})},onMouseLeave:function(){return e.setState({draggable:!1})}},"‚ò∞"))}}]),t}(),E=function(e){function t(e){var n;return h(this,t),(n=g(this,b(t).call(this,e))).state={articles:[],loaded:!1},n.update(),n}return _(t,r.default.Component),y(t,[{key:"update",value:function(){var e=this;(0,i.getNews)().then(function(t){t.sort(function(e,t){return e.position<t.position}),e.setState({articles:t,loaded:!0})})}},{key:"render",value:function(){var e=this;return this.props.isAdmin?this.state.loaded?r.default.createElement("div",{className:"sorter"},this.state.articles.map(function(t){return r.default.createElement(k,{article:t,key:t.id,current:e.props.activeId===t.id,update:function(){return e.update()},onMove:function(){return e.update()}})})):r.default.createElement(a.default,null):r.default.createElement(l.Redirect,{to:"/login/"})}}]),t}();t.default=E},168:function(e,t,n){"use strict";n(5),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.createElement("div",{className:"notifications"},e.notifications&&e.notifications.reverse().map(function(e){return r.default.createElement("div",{className:"notifications__item "+(e.level?"notifications__item-level-".concat(e.level):""),key:e.id},e.data,e.closable&&r.default.createElement("div",{role:"button",className:"notifications__close-item",onClick:function(){return(0,o.removeNotification)(e)}},"√óÔ∏é"))}))},n(23);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(37)},20:function(e,t,n){"use strict";n(5),Object.defineProperty(t,"__esModule",{value:!0}),t.update=function(){return m("/news/reload",{method:"PUT"})},t.getNews=function(){return m("/news").then(d)},t.getArchiveNews=function(){return m("/news/archive").then(d)},t.getDeletedNews=function(){return m("/news/del").then(d)},t.getArticle=function(e){return y.apply(this,arguments)},t.getArticleById=function(e){return g.apply(this,arguments)},t.getActiveArticle=function(){return m("/news/active").then(function(e){return e.id}).catch(function(){return null})},t.pollActiveArticle=function(){return b.apply(this,arguments)},t.addArticle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r={link:e};t.length>0&&(r.title=t);n.length>0&&(r.snippet=n);var o=new Headers;return o.append("Content-Type","application/json"),m(t.length>0?"/news/manual":"/news",{method:"POST",body:JSON.stringify(r),headers:o})},t.moveArticle=function(e,t){var n=t-e;return m("/news/move/".concat(e,"/").concat(n),{method:"PUT"})},t.archiveArticle=function(e){return m("/news/archive/".concat(e),{method:"PUT"})},t.activateArticle=function(e){return m("/news/active/".concat(e),{method:"PUT"})},t.removeArticle=function(e){return m("/news/".concat(e),{method:"DELETE"})},t.restoreArticle=function(e){return m("/news/undelete/".concat(e),{method:"PUT"})},t.makeArticleFirst=function(e){return _.apply(this,arguments)},t.makeArticleGeek=function(e){return m("/news/geek/".concat(e),{method:"PUT"})},t.makeArticleNoGeek=function(e){return m("/news/nogeek/".concat(e),{method:"PUT"})},t.getFeeds=function(){return m("/feeds")},t.addFeed=function(e){var t=new Headers;t.append("Content-Type","application/json");var n=JSON.stringify({feedlink:e});return m("/feeds",{method:"POST",headers:t,body:n})},t.removeFeed=function(e){return m("/feeds/"+e,{method:"DELETE"})},t.startShow=function(){return m("/show/start",{method:"PUT"})},t.getRecentness=function(){var e=localStorage.getItem("recentness");return(0,o.first)(r.postRecentness,function(t){return t.title===e})||r.postRecentness[0]},t.setRecentness=function(e){localStorage.setItem("recentness",e.title)},t.getAutoScroll=function(){return"true"===localStorage.getItem("autoScroll")},t.setAutoScroll=function(e){localStorage.setItem("autoScroll",e)},t.getPostLevel=function(){var e=localStorage.getItem("postLevel");return(0,o.first)(r.postLevels,function(t){return t.title===e})||r.postLevels[0]},t.setPostLevel=function(e){localStorage.setItem("postLevel",e.title)},t.getSorting=function(){var e=localStorage.getItem("sorting");return(0,o.first)(r.sortings,function(t){return t.title===e})||r.sortings[0]},t.setSorting=function(e){localStorage.setItem("sorting",e.title)},t.getArchiveSorting=function(){var e=localStorage.getItem("archiveSorting");return(0,o.first)(r.sortings,function(t){return t.title===e})||r.archiveSortings[0]},t.setArchiveSorting=function(e){localStorage.setItem("archiveSorting",e.title)},t.getTheme=function(){var e=localStorage.getItem("theme");return null===e?"day":e},t.setTheme=function(e){localStorage.setItem("theme",e)},t.login=function(e,t){var n=new Headers,o=btoa(e+":"+t);return n.append("Authorization","Basic "+o),fetch(r.apiRoot+"/news/reload",{method:"PUT",headers:n,credentials:"omit",mode:"cors"}).then(function(e){return 200===e.status&&(document.cookie="auth=".concat(o,";max-age=94608000;path=/;samesite=strict"),!0)})},t.loginViaCookies=function(){var e=document.cookie.split(";").map(function(e){return e.trim()}).reduce(function(e,t){var n=t.split("="),r=u(n,2),o=r[0],a=r[1];return e[o]=a,e},{});if(!e.hasOwnProperty("auth"))return Promise.resolve(!1);var t=new Headers,n=e.auth;return t.append("Authorization","Basic "+n),fetch(r.apiRoot+"/news/reload",{method:"PUT",headers:t,credentials:"omit",mode:"cors"}).then(function(e){return 200===e.status}).then(function(e){return e||w(),e})},t.logout=w,n(73),n(54),n(55),n(142),n(19),n(9),n(10),n(17),n(26),n(46),n(72),n(144),n(36),n(77),n(78),n(103),n(23),n(56),n(104);var r=n(39),o=n(33);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)})}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=/(\t|\s)+/g,f=/([^\s\\]{16})/gm;function p(e){return"object"!==c(e)||null===e?e:(e.hasOwnProperty("snippet")&&(e.snippet=e.snippet.replace(l," ").replace(f,"$1&shy;")),e.hasOwnProperty("ts")&&(e.parsedts=Date.parse(e.ts)),e.hasOwnProperty("ats")&&(e.parsedats=Date.parse(e.ats)),e.hasOwnProperty("activets")&&(e.parsedactivets=Date.parse(e.activets)),e)}function d(e){return Array.isArray(e)?e.map(p):e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.hasOwnProperty("headers")||(t.headers=new Headers);var n=document.cookie.split(";").map(function(e){return e.trim()}).reduce(function(e,t){var n=u(t.split("="),2),r=n[0],o=n[1];return e[r]=o,e},{});return n.hasOwnProperty("auth")&&t.headers.append("Authorization","Basic "+n.auth),fetch(r.apiRoot+e+"?timestamp=".concat((new Date).getTime()),Object.assign({mode:"cors",credentials:"omit"},t)).then(function(e){if(e.status>=400)throw e.statusText;return e.json().catch(function(e){return null})})}var h=new Map,v=new Map;function y(){return(y=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.has(t)){e.next=2;break}return e.abrupt("return",Promise.resolve(h.get(t)));case 2:return e.next=4,m("/news/slug/"+encodeURIComponent(t)).then(p);case 4:return n=e.sent,h.set(t,n),v.set(n.id,n.slug),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function g(){return(g=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.has(t)){e.next=2;break}return e.abrupt("return",Promise.resolve(h.get(v.get(t))));case 2:return e.next=4,m("/news/id/"+encodeURIComponent(t)).then(p);case 4:return n=e.sent,h.set(n.slug,n),v.set(n.id,n.slug),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function b(){return(b=s(regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:295;case 1:return e.next=4,m("/news/active/wait/".concat(t));case 4:if(null==(n=e.sent)||!n.hasOwnProperty("id")){e.next=7;break}return e.abrupt("return",n.id);case 7:e.next=1;break;case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function _(){return(_=s(regeneratorRuntime.mark(function e(t){var n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/news/positions");case 2:if((n=e.sent).hasOwnProperty(t)){e.next=5;break}throw new Error("Can't find id's position");case 5:return r=n[t],o=Math.max.apply(Math,a(Object.values(n))),i=o-r,e.abrupt("return",m("/news/moveid/".concat(t,"/").concat(i),{method:"PUT"}));case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function w(){document.cookie="auth=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/"}},33:function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,u,"next",e)}function u(e){r(i,o,a,s,u,"throw",e)}s(void 0)})}}function a(e){return new Promise(function(t){return setTimeout(t,e)})}function i(){return(i=o(regeneratorRuntime.mark(function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:1e3,(!(i.length>2&&void 0!==i[2])||i[2])&&t(),r=0,a=function(){var e=o(regeneratorRuntime.mark(function e(){var o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=i.length>0&&void 0!==i[0]?i[0]:0)-n>r)){e.next=5;break}return e.next=4,t();case 4:r=o;case 5:requestAnimationFrame(a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),requestAnimationFrame(a);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("complete"!==document.readyState){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a(200);case 5:e.next=0;break;case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}n(5),Object.defineProperty(t,"__esModule",{value:!0}),t.first=function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(t(s))return s}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return null},t.firstIndex=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return null},t.formatDate=function(e){var t=("0"+e.getDate()).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2),r=e.getFullYear(),o=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2);return t+"."+n+"."+r+" –≤&nbsp;"+o+":"+a},t.oneOf=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++){var a=n[o];if(e===a)return!0}return!1},t.sleep=a,t.animate=function(e){return i.apply(this,arguments)},t.waitDOMReady=function(){return s.apply(this,arguments)},n(19),n(17),n(9),n(10),n(26)},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setState=c,t.addNotification=function(e){if("function"==typeof e){var t={};Object.assign(t,f(e(function(){console.log("hey!"),u.dispatch({type:"removeNotification",notification:t})}))),e=t}else e=f(e);u.dispatch({type:"addNotification",notification:e}),null!==e.time&&setTimeout(function(){u.dispatch({type:"removeNotification",notification:e})},e.time);return e},t.removeNotification=function(e){u.dispatch({type:"removeNotification",notification:e})},t.removeNotificationsWithContext=function(e){c({notifications:u.getState().notifications.filter(function(t){return t.context!==e})})},t.setTheme=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c({theme:e}),t)return void(document.documentElement.dataset.theme=e);document.documentElement.classList.add("switch-transition"),setTimeout(function(){document.documentElement.dataset.theme=e,setTimeout(function(){document.documentElement.classList.remove("switch-transition")},1500)},10)},t.store=void 0,n(72),n(73),n(54),n(55),n(9),n(10),n(56),n(74),n(26),n(46),n(76),n(5),n(48),n(36),n(49);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={isAdmin:!1,notifications:[],activeId:null,autoScroll:!1,theme:"day"},u=(0,n(80).createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setState":return a({},e,t.state);case"addNotification":return a({},e,{notifications:o(e.notifications).concat([t.notification])});case"removeNotification":var n=e.notifications.indexOf(t.notification);return n<0?e:a({},e,{notifications:o(e.notifications.slice(0,n)).concat(o(e.notifications.slice(n+1)))});default:return e}});function c(e){u.dispatch({type:"setState",state:e})}t.store=u;var l=0,f=function(e){return"string"==typeof e&&(e={data:r.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),time:3e3,level:"default"}),"string"==typeof e.data&&(e.data=r.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.data}})),e.id=l++,(e=Object.assign({level:"default",time:3e3,closable:!0},e)).data.key=e.id,e}},39:function(e,t,n){"use strict";n(5),Object.defineProperty(t,"__esModule",{value:!0}),t.postLevels=t.postRecentness=t.archiveSortings=t.sortings=t.postsPrefix=t.apiRoot=void 0,n(48);t.apiRoot="https://news.radio-t.com/api/v1";t.postsPrefix="/news";var r=[{title:"–ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É",fn:function(e,t){return e.position===t.position?0:e.position>t.position?-1:1}},{title:"–ü–æ –¥–∞—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏",fn:function(e,t){return e.ts===t.ts?0:e.parsedts>t.parsedts?-1:1}},{title:"–ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è",fn:function(e,t){return e.ats===t.ats?0:e.parsedats>t.parsedats?-1:1}},{title:"–ü–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º",fn:function(e,t){return e.comments===t.comments?0:e.comments>t.comments?-1:1}}];t.sortings=r;var o=r.filter(function(e){return"–ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É"!==e.title});t.archiveSortings=o;var a=new Date,i=[{title:"–í—Å–µ",fn:function(e,t){return!0}},{title:"–°–≤–µ–∂–∏–µ",fn:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=a-Date.parse(e.ats);return!!(n&&e.geek&&r<7776e6)||r<18144e5}}];t.postRecentness=i;t.postLevels=[{title:"–í—Å–µ",fn:function(e,t){return!0}},{title:"–û–±—ã—á–Ω—ã–µ",fn:function(e,t){return!e.geek}},{title:"–ì–∏–∫–æ–≤—Å–∫–∏–µ",fn:function(e,t){return e.geek},isgeek:!0}]},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(10),n(36),n(5),n(15),n(16),n(154);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,u(t).call(this,e))).state={numberOfDots:4},n.interval=setInterval(function(){n.setState(function(e){return{numberOfDots:(e.numberOfDots+1)%7}})},500),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){return r.default.createElement("div",a({className:"loading"},this.props),this.props.text||"–ó–∞–≥—Ä—É–∂–∞—é",r.default.createElement("span",{className:"loading__dots"},".",".".repeat(this.state.numberOfDots)))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}]),t}();t.default=l}},[[113,1,2]]]);